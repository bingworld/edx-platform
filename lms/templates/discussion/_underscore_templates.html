<%namespace name='static' file='../static_content.html'/>
<%!
import json
from openedx.core.djangolib.js_utils import (
    dump_js_escaped_json, js_escaped_string
)
%>

<script type="text/javascript">
window.PLATFORM_NAME = '${settings.PLATFORM_NAME | n, js_escaped_string}';
window.ENABLE_DISCUSSION_HOME_PANEL = ${settings.FEATURES.get('ENABLE_DISCUSSION_HOME_PANEL', False) | n, dump_js_escaped_json};
</script>

<%
template_names = [
    'thread', 'thread-show', 'thread-edit', 'thread-response', 'thread-response-show', 'thread-response-edit',
    'response-comment-show', 'response-comment-edit', 'thread-list-item', 'discussion-home', 'search-alert',
    'new-post', 'thread-type', 'new-post-menu-entry', 'new-post-menu-category', 'topic', 'post-user-display',
    'inline-discussion', 'pagination', 'profile-thread', 'customwmd-prompt'
]
%>

% for template_name in template_names:
<script aria-hidden="true" type="text/template" id="${template_name}-template">
    <%static:include path="common/templates/discussion/${template_name}.underscore" />
</script>
% endfor

## same, but without trailing "-template" in script ID
% for template_name in ['forum-action-endorse', 'forum-action-answer', 'forum-action-follow', 'forum-action-vote', 'forum-action-report', 'forum-action-pin', 'forum-action-close', 'forum-action-edit', 'forum-action-delete', 'forum-actions']:
<script aria-hidden="true" type="text/template" id="${template_name}">
    <%static:include path="common/templates/discussion/${template_name}.underscore" />
</script>
% endfor
